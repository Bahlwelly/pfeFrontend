<h2>Tableau de borde</h2>

<div class="container">
    <header>
        <nav>
            <div (click)="swichPages('users')" [class.selected]="selectedPage === 'users'">Utilisateurs</div>
            <div (click)="swichPages('chefs')" [class.selected]="selectedPage === 'chefs'">Inspecteurs</div>
            <div (click)="swichPages('plaintes')" [class.selected]="selectedPage === 'plaintes'">Plaintes</div>
            <div (click)="swichPages('demandes')" [class.selected]="selectedPage === 'demandes'">Demandes</div>
        </nav>
    </header>

    <main>
        @if (selectedPage === 'users') {
            <h3>Utilisateurs</h3>
            <div class="content">
                <div class="numbers">
                    <div class="card">
                        <div class="head">
                            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24"><path d="M24 14.6c0 .6-1.2 1-2.6 1.2c-.9-1.7-2.7-3-4.8-3.9c.2-.3.4-.5.6-.8h.8c3.1-.1 6 1.8 6 3.5M6.8 11H6c-3.1 0-6 1.9-6 3.6c0 .6 1.2 1 2.6 1.2c.9-1.7 2.7-3 4.8-3.9zm5.2 1c2.2 0 4-1.8 4-4s-1.8-4-4-4s-4 1.8-4 4s1.8 4 4 4m0 1c-4.1 0-8 2.6-8 5c0 2 8 2 8 2s8 0 8-2c0-2.4-3.9-5-8-5m5.7-3h.3c1.7 0 3-1.3 3-3s-1.3-3-3-3c-.5 0-.9.1-1.3.3c.8 1 1.3 2.3 1.3 3.7c0 .7-.1 1.4-.3 2M6 10h.3C6.1 9.4 6 8.7 6 8c0-1.4.5-2.7 1.3-3.7C6.9 4.1 6.5 4 6 4C4.3 4 3 5.3 3 7s1.3 3 3 3"/></svg>
                            Utilisateurs Connectés
                        </div>
                        <p class="num">
                            <span>{{ usersNumber }}</span>
                            <span>{{ usersPercent }}</span>
                            
                        </p>
                    </div>
                    <div class="card">
                        <div class="head">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11.5 2a5.5 5.5 0 1 0 0 11a5.5 5.5 0 0 0 0-11m1 16a5.5 5.5 0 1 1 11 0a5.5 5.5 0 0 1-11 0m5.5-3.5a3.5 3.5 0 0 0-3.08 5.165l4.745-4.744A3.5 3.5 0 0 0 18 14.5m3.08 1.835l-4.745 4.744a3.5 3.5 0 0 0 4.745-4.745M12.255 14A6.97 6.97 0 0 0 11 18c0 1.487.464 2.866 1.255 4H2v-2a6 6 0 0 1 6-6z"/></svg>
                            Utilisateurs Blocqués
                        </div>
                        <p class="num">
                            <span>{{ blockedUsersNumber }}</span>
                            <span>{{ blockedUsersPercent }}</span>
                            
                        </p>
                    </div>
                </div>
            </div>
        }
        @else if (selectedPage === 'chefs') {
            <h3>Inspecteurs</h3>
            <div class="content">
                <div class="numbers">
                    <div class="card">
                        <div class="head">
                            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 32 32"><g><path d="m14.267 12.355l-.6 1.93c-.12.4.17.8.59.8h.88c.41 0 .71-.4.59-.8l-.6-1.93a.448.448 0 0 0-.86 0m-1.27 3.53c.49.26 1.08.41 1.7.41s1.2-.15 1.7-.41c.16-.09.34.1.24.26a2.303 2.303 0 0 1-3.88 0c-.11-.16.07-.35.24-.26m-.742-3.96c.33 0 .59.27.59.59a.6.6 0 0 1-.07.27h-1.04a.5.5 0 0 1-.07-.27c0-.115.033-.222.09-.312a.18.18 0 1 0 .27-.231a.6.6 0 0 1 .23-.047m5.04 0a.6.6 0 0 0-.21.038a.18.18 0 1 1-.274.216a.6.6 0 0 0-.106.336c0 .1.02.19.07.27h1.04c.05-.08.07-.17.07-.27c0-.33-.27-.59-.59-.59"/><path d="M23.1 12.598a4.49 4.49 0 0 0-2.205 3.127l-.04.565v.007l-.025.198v.032a4.45 4.45 0 0 0 .491 1.994a4.5 4.5 0 0 0 1.775 1.852a2.3 2.3 0 0 0-.086.624v1.94q.052-.012.105-.019a.5.5 0 0 1 .175-.031h.72v-1.89c0-.467.25-.878.625-1.104a3.48 3.48 0 0 1-2.805-3.406c0-1.91 1.56-3.47 3.47-3.47s3.47 1.56 3.47 3.47a3.48 3.48 0 0 1-2.805 3.406c.279.168.49.44.578.76a1.58 1.58 0 0 1 1.244.355a2.07 2.07 0 0 1 .963 1.749v5.23c0 1.041-.79 2.02-1.93 2.02h-.129q-.069.01-.141.01h-3.699q-.069.01-.141.01H6.83q-.073 0-.143-.01H3a1 1 0 0 1-.987-1.158c.156-.983.377-1.953.684-2.916l.004-.013l.028-.083a12.6 12.6 0 0 1 3.301-5.3a1.62 1.62 0 0 1 .529-1.92l-1.623-1.442l-.01-.01c-1-.915-.4-2.638 1.014-2.638h1.072a2.87 2.87 0 0 1-.722-1.907c0-.462.11-.899.303-1.286a8.4 8.4 0 0 1-2-1.53C3.448 8.64 4.275 6.667 5.92 6.667h1.45l.465-1.337v-.003l.68-1.97l.015-.04c.848-2.155 3.433-2.994 5.355-1.713l.002.001a1.575 1.575 0 0 0 1.757 0l.004-.003C17.582.322 20.152 1.176 21 3.314l.014.039l.69 1.974l.467 1.34h1.459c1.623 0 2.481 1.965 1.327 3.147a8.4 8.4 0 0 1-2.126 1.599c.168.36.264.762.269 1.185M9.865 5.577l-.14.407l-.336.963h10.762l-.335-.961l-.143-.41zm3.496 22.45h.041l.778-3.611l-.464-.86l-.514.412a.9.9 0 0 1-.624.202zm2.819 0l.784-3.847a.9.9 0 0 1-.626-.202l-.525-.419l-.463.857l.68 3.61zm-3.168-7.82a1.8 1.8 0 0 0 1.712 1.41l.038.001h.04a1.8 1.8 0 0 0 1.726-1.411zm-1.23-1.158c.324.103.67.158 1.029.158h3.768c1.699 0 3.099-1.24 3.28-3.003l.317-4.466a8.5 8.5 0 0 1-1.158.08h-.197c.128.169.223.365.274.577c.05.2-.1.39-.31.39h-.5c.03-.08.04-.18.04-.27c0-.27-.103-.514-.271-.698h-1.517a1.03 1.03 0 0 0-.272.698c0 .09.02.18.04.27h-.09c-.17 0-.3-.15-.26-.31c.046-.243.147-.467.29-.658h-2.942c.144.191.246.415.292.658c.04.16-.09.31-.26.31h-.09c.02-.09.04-.18.04-.27c0-.27-.103-.514-.272-.698h-1.517a1.03 1.03 0 0 0-.271.698c0 .09.01.19.04.27h-.5c-.21 0-.36-.19-.31-.39a1.6 1.6 0 0 1 .274-.578h-.364q-.586 0-1.152-.077l.318 4.464c.097.941.538 1.733 1.188 2.267l-.007-.03zm15.562 3.826v-.669a.57.57 0 0 0-.754-.539v1.208zm-.094 1.442c0-.238-.19-.43-.43-.43h-3.39a.5.5 0 0 1-.14.02a.324.324 0 0 0-.33.29a.29.29 0 0 0 .128.248a.5.5 0 0 1 0 .844a.29.29 0 0 0-.128.248c0 .102.048.193.142.257a.5.5 0 0 1-.014.835a.29.29 0 0 0-.128.248c0 .102.048.193.142.257a.5.5 0 0 1 0 .826a.4.4 0 0 0-.066.057h3.371q.07-.01.142-.01h.2l.001-.02v-3.455h.5zm-13.646-1.953a2.8 2.8 0 0 1-1.34-1.298l.412 2.043zm2.321.005l.94.75l.415-2.06a2.8 2.8 0 0 1-1.355 1.31M27.4 16.487a2.1 2.1 0 1 0-4.2 0a2.1 2.1 0 0 0 4.2 0"/></g></svg>
                            Inspecteurs

                            <select (change)="getChefsParCommune($event)">
                                <option value="tous">Tous</option>
                                @for (commune of communes; track $index) {
                                    <option value="{{commune}}"> {{ commune }} </option>
                                }
                            </select>
                        </div>
                        <p class="num">
                            <span>{{ chefsNumber }}</span>
                        </p>
                    </div>
                </div>
            </div>
        }
        @else if (selectedPage === 'plaintes') {
            <h3>
                Plaintes
                <select (change)="getPlaintesParCommune($event)">
                    <option value="tous">Tous</option>
                    @for (commune of communes; track $index) {
                        <option value="{{commune}}"> {{ commune }} </option>
                    }
                </select>
            </h3>
            <div class="content">
                <div class="numbers">
                    <div class="card">
                        <div class="section">
                            <div class="head">
                                <svg width="26" height="26" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M5 13.5C2.79 13.5 1 15.29 1 17.5C1 18.25 1.21 18.96 1.58 19.56C2.27 20.72 3.54 21.5 5 21.5C6.46 21.5 7.73 20.72 8.42 19.56C8.79 18.96 9 18.25 9 17.5C9 15.29 7.21 13.5 5 13.5ZM6.97 17.17L4.84 19.14C4.7 19.27 4.51 19.34 4.33 19.34C4.14 19.34 3.95 19.27 3.8 19.12L2.81 18.13C2.52 17.84 2.52 17.36 2.81 17.07C3.1 16.78 3.58 16.78 3.87 17.07L4.35 17.55L5.95 16.07C6.25 15.79 6.73 15.81 7.01 16.11C7.29 16.41 7.27 16.89 6.97 17.17Z" fill="#01ce01"></path> <path d="M17.25 2.42969H7.75C4.9 2.42969 3 4.32969 3 7.17969V11.6397C3 11.9897 3.36 12.2397 3.7 12.1497C4.12 12.0497 4.55 11.9997 5 11.9997C7.86 11.9997 10.22 14.3197 10.48 17.1297C10.5 17.4097 10.73 17.6297 11 17.6297H11.55L15.78 20.4497C16.4 20.8697 17.25 20.4097 17.25 19.6497V17.6297C18.67 17.6297 19.86 17.1497 20.69 16.3297C21.52 15.4897 22 14.2997 22 12.8797V7.17969C22 4.32969 20.1 2.42969 17.25 2.42969ZM15.83 10.8097H9.17C8.78 10.8097 8.46 10.4897 8.46 10.0997C8.46 9.69969 8.78 9.37969 9.17 9.37969H15.83C16.22 9.37969 16.54 9.69969 16.54 10.0997C16.54 10.4897 16.22 10.8097 15.83 10.8097Z" fill="#01ce01"></path> </g></svg>
                                Plaintes Validées
                            </div>
                            <p class="num">
                                <span>{{ plaintesNumber }}</span>
                                <span>{{ validsPlPercent }}</span>
                            </p>
                        </div>
                        <div class="section">
                            <div class="head">
                                <svg width="26" height="26" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M7.97 14.83C7.25 14.01 6.18 13.5 5 13.5C2.79 13.5 1 15.29 1 17.5C1 18.25 1.21 18.96 1.58 19.56C1.78 19.9 2.04 20.21 2.34 20.47C3.04 21.11 3.97 21.5 5 21.5C6.46 21.5 7.73 20.72 8.42 19.56C8.79 18.96 9 18.25 9 17.5C9 16.48 8.61 15.54 7.97 14.83ZM6.6 19.08C6.45 19.23 6.26 19.3 6.07 19.3C5.88 19.3 5.69 19.23 5.54 19.08L5.01 18.55L4.46 19.1C4.31 19.25 4.12 19.32 3.93 19.32C3.74 19.32 3.55 19.25 3.4 19.1C3.11 18.81 3.11 18.33 3.4 18.04L3.95 17.49L3.42 16.96C3.13 16.67 3.13 16.19 3.42 15.9C3.71 15.61 4.19 15.61 4.48 15.9L5.01 16.43L5.51 15.93C5.8 15.64 6.28 15.64 6.57 15.93C6.86 16.22 6.86 16.7 6.57 16.99L6.07 17.49L6.6 18.02C6.89 18.31 6.89 18.78 6.6 19.08Z" fill="red"></path> <path d="M17.25 2.42969H7.75C4.9 2.42969 3 4.32969 3 7.17969V11.6397C3 11.9897 3.36 12.2397 3.7 12.1497C4.12 12.0497 4.55 11.9997 5 11.9997C7.86 11.9997 10.22 14.3197 10.48 17.1297C10.5 17.4097 10.73 17.6297 11 17.6297H11.55L15.78 20.4497C16.4 20.8697 17.25 20.4097 17.25 19.6497V17.6297C18.67 17.6297 19.86 17.1497 20.69 16.3297C21.52 15.4897 22 14.2997 22 12.8797V7.17969C22 4.32969 20.1 2.42969 17.25 2.42969ZM15.83 10.8097H9.17C8.78 10.8097 8.46 10.4897 8.46 10.0997C8.46 9.69969 8.78 9.37969 9.17 9.37969H15.83C16.22 9.37969 16.54 9.69969 16.54 10.0997C16.54 10.4897 16.22 10.8097 15.83 10.8097Z" fill="red"></path> </g></svg>
                                Plaintes Invalidées
                            </div>
                            <p class="num">
                                <span>{{ invalidPlaintesNumber }}</span>
                                <span>{{ invalidsPlPercent }}</span>
                            </p>
                        </div>

                        <div class="section">
                            <div class="head">
                                <svg width="26" height="26" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M5.21 13.5117C4.12 13.4417 3 13.8417 2.17 14.6717C0.61 16.2317 0.61 18.7617 2.17 20.3317C2.7 20.8617 3.35 21.2117 4.04 21.3817C4.42 21.4817 4.82 21.5117 5.22 21.4917C6.17 21.4517 7.1 21.0717 7.83 20.3417C8.86 19.3117 9.21 17.8617 8.88 16.5517C8.72 15.8617 8.36 15.2117 7.83 14.6817C7.11 13.9517 6.17 13.5617 5.21 13.5117ZM7.24 17.4817C7.24 17.6917 7.16 17.8717 7.02 18.0117C6.88 18.1517 6.7 18.2317 6.49 18.2317H5.75V19.0117C5.75 19.2217 5.67 19.4017 5.53 19.5417C5.39 19.6817 5.21 19.7617 5 19.7617C4.59 19.7617 4.25 19.4217 4.25 19.0117V18.2317H3.5C3.09 18.2317 2.75 17.8917 2.75 17.4817C2.75 17.0717 3.09 16.7317 3.5 16.7317H4.25V16.0217C4.25 15.6117 4.59 15.2717 5 15.2717C5.41 15.2717 5.75 15.6117 5.75 16.0217V16.7317H6.49C6.91 16.7317 7.24 17.0717 7.24 17.4817Z" fill="#ffd000"></path> <path d="M17.25 2.42969H7.75C4.9 2.42969 3 4.32969 3 7.17969V11.6397C3 11.9897 3.36 12.2397 3.7 12.1497C4.12 12.0497 4.55 11.9997 5 11.9997C7.86 11.9997 10.22 14.3197 10.48 17.1297C10.5 17.4097 10.73 17.6297 11 17.6297H11.55L15.78 20.4497C16.4 20.8697 17.25 20.4097 17.25 19.6497V17.6297C18.67 17.6297 19.86 17.1497 20.69 16.3297C21.52 15.4897 22 14.2997 22 12.8797V7.17969C22 4.32969 20.1 2.42969 17.25 2.42969ZM15.83 10.8097H9.17C8.78 10.8097 8.46 10.4897 8.46 10.0997C8.46 9.69969 8.78 9.37969 9.17 9.37969H15.83C16.22 9.37969 16.54 9.69969 16.54 10.0997C16.54 10.4897 16.22 10.8097 15.83 10.8097Z" fill="#ffd000"></path> </g></svg>
                                Plaintes En cours
                            </div>
                            <p class="num">
                                <span>{{ enCoursPlaintesNumber }}</span>
                                <span>{{ enCoursPlPercent }}</span>
                            </p>
                        </div>

                        <div class="section">
                            <div class="head">
                                <svg width="26" height="26" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M5 13.5C4.06 13.5 3.19 13.83 2.5 14.38C1.58 15.11 1 16.24 1 17.5C1 19.71 2.79 21.5 5 21.5C6.01 21.5 6.93 21.12 7.64 20.5C8.47 19.77 9 18.7 9 17.5C9 15.29 7.21 13.5 5 13.5ZM6 17.75C6 18.01 5.86 18.26 5.64 18.39L4.39 19.14C4.27 19.22 4.13 19.25 4 19.25C3.75 19.25 3.5 19.12 3.36 18.89C3.15 18.53 3.26 18.07 3.62 17.86L4.51 17.33V16.25C4.51 15.84 4.85 15.5 5.26 15.5C5.67 15.5 6 15.84 6 16.25V17.75Z"></path> <path d="M17.25 2.42969H7.75C4.9 2.42969 3 4.32969 3 7.17969V11.6397C3 11.9897 3.36 12.2397 3.7 12.1497C4.12 12.0497 4.55 11.9997 5 11.9997C7.86 11.9997 10.22 14.3197 10.48 17.1297C10.5 17.4097 10.73 17.6297 11 17.6297H11.55L15.78 20.4497C16.4 20.8697 17.25 20.4097 17.25 19.6497V17.6297C18.67 17.6297 19.86 17.1497 20.69 16.3297C21.52 15.4897 22 14.2997 22 12.8797V7.17969C22 4.32969 20.1 2.42969 17.25 2.42969ZM15.83 10.8097H9.17C8.78 10.8097 8.46 10.4897 8.46 10.0997C8.46 9.69969 8.78 9.37969 9.17 9.37969H15.83C16.22 9.37969 16.54 9.69969 16.54 10.0997C16.54 10.4897 16.22 10.8097 15.83 10.8097Z"></path> </g></svg>
                                Plaintes En attente
                            </div>
                            <p class="num">
                                <span>{{ plaintesNonInspectNumber }}</span>
                                <span>{{ enAttentePlPercent }}</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        }
        @else if (selectedPage === 'demandes') {
            <h3>Demandes</h3>
        }
    </main>
</div>